<?xml version="1.0" encoding="utf-8"?>
<database name="website" defaultIdMethod="native" defaultPhpNamingMethod="underscore" namespace="Jack\Propel">
  <table name="issues" idMethod="native" phpName="Issue">
    <column name="id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="number" type="INTEGER" required="true"/>
    <column name="title" type="VARCHAR" size="64" required="true"/>
    <column name="slug" type="VARCHAR" size="64" required="true"/>
    <column name="published" type="BOOLEAN" size="1" required="true" defaultValue="true"/>
  </table>
	<table name="sections" phpName="Section">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
    <column name="title" type="VARCHAR" size="64" required="true"/>
    <column name="slug" type="VARCHAR" size="64" required="true"/>
    <column name="issue_id" type="integer" required="true"/>
    <foreign-key foreignTable="issues">
      <reference local="issue_id" foreign="id"/>
    </foreign-key>
  </table>
	<table name="layouts" phpName="Layout">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
    <column name="title" type="VARCHAR" size="64" required="true"/>
    <column name="slug" type="VARCHAR" size="64" required="true"/>
    <column name="rows" type="integer" required="true" defaultValue="1"/>
    <column name="columns" type="integer" required="true" defaultValue="1"/>
    <column name="issue_id" type="integer" required="true"/>
    <foreign-key foreignTable="issues">
      <reference local="issue_id" foreign="id"/>
    </foreign-key>
    <column name="section_id" type="integer" required="true"/>
    <foreign-key foreignTable="sections">
      <reference local="section_id" foreign="id"/>
    </foreign-key>
  </table>
	<table name="posters" phpName="Poster">
    <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
    <column name="page" type="integer" required="true"/>
		<column name="face" type="CHAR" sqlType="enum('Front','Back')" required="true"/>
		<column name="orientation" type="CHAR" sqlType="enum('Landscape','Portrait')" required="true"/>
    <column name="row" type="integer" required="true"/>
    <column name="col" type="integer" required="true"/>
    <column name="layout_id" type="integer" required="true"/>
    <foreign-key foreignTable="layouts">
      <reference local="layout_id" foreign="id"/>
    </foreign-key>
  </table>
</database>
